#!/bin/bash

# set up the skeleton in the current home directory
# warning: semi-destructive

MY_DIR=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )

cd $MY_DIR/..

res="`git status 2>&1`"
if [ "`echo $res | grep up-to-date`" == "" ]; then
    # not up to date
    echo 'ERROR: new-user-skel is not up-to-date with master, exiting ...'
#    exit 1
fi
if [ "`echo $res | grep Changes`" != "" ]; then
    # changes were made
    echo 'ERROR: new-user-skel has changes, exiting ...'
#    exit 1
fi
if [ "`echo $res | grep Untracked`" != "" ]; then
    # untracked files were found
    echo 'ERROR: new-user-skel has untracked files, exiting ...'
#    exit 1
fi

# /bin/ls -a | nl

for i in .[a-z]*; do
    if [ -e ${HOME}/$i ]; then
        echo "${HOME}/$i exists"
    fi 
done
